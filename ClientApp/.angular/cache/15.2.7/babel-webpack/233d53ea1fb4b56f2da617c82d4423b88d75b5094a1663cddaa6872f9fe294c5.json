{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/api.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nfunction FetchUsersComponent_p_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\")(1, \"em\");\n    i0.ɵɵtext(2, \"Loading...\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction FetchUsersComponent_table_17_tr_8_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r10 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\", 18);\n    i0.ɵɵlistener(\"click\", function FetchUsersComponent_table_17_tr_8_Template_td_click_5_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r10);\n      const user_r8 = restoredCtx.$implicit;\n      const ctx_r9 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r9.deleteUser(user_r8.user_id));\n    });\n    i0.ɵɵtext(6, \"X\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const user_r8 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(user_r8.user_id);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(user_r8.user_name);\n  }\n}\nfunction FetchUsersComponent_table_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"table\", 16)(1, \"thead\")(2, \"tr\")(3, \"th\");\n    i0.ɵɵtext(4, \"ID de usuario\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"th\");\n    i0.ɵɵtext(6, \"Nombre de usuario\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(7, \"tbody\");\n    i0.ɵɵtemplate(8, FetchUsersComponent_table_17_tr_8_Template, 7, 2, \"tr\", 17);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(8);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.users);\n  }\n}\nfunction FetchUsersComponent_option_32_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 19);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const user_r11 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", user_r11.user_id);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(user_r11.user_name);\n  }\n}\nfunction FetchUsersComponent_table_35_tr_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const item_r13 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r13.item_id);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r13.item_name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r13.item_description);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r13.user_id);\n  }\n}\nfunction FetchUsersComponent_table_35_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"table\", 16)(1, \"thead\")(2, \"tr\")(3, \"th\");\n    i0.ɵɵtext(4, \"ID de item\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"th\");\n    i0.ɵɵtext(6, \"Nombre del item\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"th\");\n    i0.ɵɵtext(8, \"Descripcion del item\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"th\");\n    i0.ɵɵtext(10, \"ID de usuario due\\u00F1o\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(11, \"tbody\");\n    i0.ɵɵtemplate(12, FetchUsersComponent_table_35_tr_12_Template, 9, 4, \"tr\", 17);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(12);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r5.items);\n  }\n}\nfunction FetchUsersComponent_table_36_tr_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const auction_r15 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(auction_r15.auction_id);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(auction_r15.item_id);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(auction_r15.auction_start_date);\n  }\n}\nfunction FetchUsersComponent_table_36_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"table\", 16)(1, \"thead\")(2, \"tr\")(3, \"th\");\n    i0.ɵɵtext(4, \"ID de Subasta\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"th\");\n    i0.ɵɵtext(6, \"ID de item\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"th\");\n    i0.ɵɵtext(8, \"Comieno de subasta\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(9, \"tbody\");\n    i0.ɵɵtemplate(10, FetchUsersComponent_table_36_tr_10_Template, 7, 3, \"tr\", 17);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r6 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(10);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r6.auctions);\n  }\n}\nexport class FetchUsersComponent {\n  constructor(apiservice) {\n    this.apiservice = apiservice;\n    this.users = [];\n    this.items = [];\n    this.auctions = [];\n    this.apiservice.getUsers().subscribe(result => {\n      this.users = result;\n    }, err => console.error(err));\n    this.apiservice.getItems().subscribe(result => {\n      this.items = result;\n    }, err => console.error(err));\n  }\n  postUser(userForm) {\n    this.apiservice.postUser(userForm.value.user_name).subscribe(res => {\n      alert(\"Usuario Creado\");\n    }, err => console.error(err));\n  }\n  deleteUser(user_id) {\n    this.apiservice.deleteUser(user_id).subscribe(res => {\n      alert(\"Usuario Eliminado\");\n    }, err => console.error(err));\n  }\n  postItems(itemsForm) {\n    this.apiservice.postItems(itemsForm.value.item_name, itemsForm.value.item_description, this.item_user_name).subscribe(res => {\n      console.log(res);\n    }, err => console.error(err));\n  }\n  postAuctions(auctionsForm) {}\n}\nFetchUsersComponent.ɵfac = function FetchUsersComponent_Factory(t) {\n  return new (t || FetchUsersComponent)(i0.ɵɵdirectiveInject(i1.ApiService));\n};\nFetchUsersComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: FetchUsersComponent,\n  selectors: [[\"app-fetch-users\"]],\n  decls: 37,\n  vars: 6,\n  consts: [[\"id\", \"tableLabel\"], [3, \"ngSubmit\"], [\"userForm\", \"ngForm\"], [1, \"form-group\"], [\"for\", \"user_name\"], [\"type\", \"text\", \"id\", \"user_name\", \"name\", \"user_name\", \"ngModel\", \"\", 1, \"form-control\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\"], [4, \"ngIf\"], [\"class\", \"table table-striped\", \"aria-labelledby\", \"tableLabel\", 4, \"ngIf\"], [\"itemsForm\", \"ngForm\"], [\"type\", \"text\", \"id\", \"item_name\", \"name\", \"item_name\", \"ngModel\", \"\", 1, \"form-control\"], [\"for\", \"item_description\"], [\"type\", \"text\", \"id\", \"item_description\", \"name\", \"item_description\", \"ngModel\", \"\", 1, \"form-control\"], [\"for\", \"item_user_name\"], [\"id\", \"item_user_name\", \"name\", \"item_user_name\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"aria-labelledby\", \"tableLabel\", 1, \"table\", \"table-striped\"], [4, \"ngFor\", \"ngForOf\"], [3, \"click\"], [3, \"value\"]],\n  template: function FetchUsersComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      const _r16 = i0.ɵɵgetCurrentView();\n      i0.ɵɵelementStart(0, \"h1\", 0);\n      i0.ɵɵtext(1, \"Tabla Usuarios\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(2, \"p\");\n      i0.ɵɵtext(3, \"This component demontrates fetching data from the server.\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"form\", 1, 2);\n      i0.ɵɵlistener(\"ngSubmit\", function FetchUsersComponent_Template_form_ngSubmit_4_listener() {\n        i0.ɵɵrestoreView(_r16);\n        const _r0 = i0.ɵɵreference(5);\n        return i0.ɵɵresetView(ctx.postUser(_r0));\n      });\n      i0.ɵɵelementStart(6, \"h2\");\n      i0.ɵɵtext(7, \"Add Elements to Users Table\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(8, \"br\");\n      i0.ɵɵelementStart(9, \"div\", 3)(10, \"label\", 4);\n      i0.ɵɵtext(11, \"Username:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(12, \"input\", 5);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(13, \"br\");\n      i0.ɵɵelementStart(14, \"button\", 6);\n      i0.ɵɵtext(15, \"Send\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵtemplate(16, FetchUsersComponent_p_16_Template, 3, 0, \"p\", 7);\n      i0.ɵɵtemplate(17, FetchUsersComponent_table_17_Template, 9, 1, \"table\", 8);\n      i0.ɵɵelementStart(18, \"form\", 1, 9);\n      i0.ɵɵlistener(\"ngSubmit\", function FetchUsersComponent_Template_form_ngSubmit_18_listener() {\n        i0.ɵɵrestoreView(_r16);\n        const _r3 = i0.ɵɵreference(19);\n        return i0.ɵɵresetView(ctx.postItems(_r3));\n      });\n      i0.ɵɵelementStart(20, \"h2\");\n      i0.ɵɵtext(21, \"Add Elements to Items Table\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(22, \"div\", 3)(23, \"label\", 4);\n      i0.ɵɵtext(24, \"Item Name:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(25, \"input\", 10);\n      i0.ɵɵelementStart(26, \"label\", 11);\n      i0.ɵɵtext(27, \"Item Description:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(28, \"input\", 12);\n      i0.ɵɵelementStart(29, \"label\", 13);\n      i0.ɵɵtext(30, \"User:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(31, \"select\", 14);\n      i0.ɵɵlistener(\"ngModelChange\", function FetchUsersComponent_Template_select_ngModelChange_31_listener($event) {\n        return ctx.item_user_name = $event;\n      });\n      i0.ɵɵtemplate(32, FetchUsersComponent_option_32_Template, 2, 2, \"option\", 15);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(33, \"button\", 6);\n      i0.ɵɵtext(34, \"Send\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵtemplate(35, FetchUsersComponent_table_35_Template, 13, 1, \"table\", 8);\n      i0.ɵɵtemplate(36, FetchUsersComponent_table_36_Template, 11, 1, \"table\", 8);\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(16);\n      i0.ɵɵproperty(\"ngIf\", !(ctx.users == null ? null : ctx.users.length));\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.users.length);\n      i0.ɵɵadvance(14);\n      i0.ɵɵproperty(\"ngModel\", ctx.item_user_name);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngForOf\", ctx.users);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngIf\", ctx.items.length);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.auctions.length);\n    }\n  },\n  dependencies: [i2.NgForOf, i2.NgIf, i3.ɵNgNoValidate, i3.NgSelectOption, i3.ɵNgSelectMultipleOption, i3.DefaultValueAccessor, i3.SelectControlValueAccessor, i3.NgControlStatus, i3.NgControlStatusGroup, i3.NgModel, i3.NgForm],\n  encapsulation: 2\n});","map":{"version":3,"mappings":"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","names":["i0","FetchUsersComponent","constructor","apiservice","getUsers","subscribe","result","users","err","console","error","getItems","items","postUser","userForm","value","user_name","res","alert","deleteUser","user_id","postItems","itemsForm","item_name","item_description","item_user_name","log","postAuctions","auctionsForm","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\Users\\migue\\Documents\\Projects\\MatutesAuctionHouse\\ClientApp\\src\\app\\fetch-users\\fetch-users.component.html","C:\\Users\\migue\\Documents\\Projects\\MatutesAuctionHouse\\ClientApp\\src\\app\\fetch-users\\fetch-users.component.ts"],"sourcesContent":["<h1 id=\"tableLabel\">Tabla Usuarios</h1>\r\n\r\n<p>This component demontrates fetching data from the server.</p>\r\n\r\n\r\n<form (ngSubmit)=\"postUser(userForm)\" #userForm=\"ngForm\">\r\n  <h2>Add Elements to Users Table</h2>\r\n  <br />\r\n  <div class=\"form-group\">\r\n    <label for=\"user_name\">Username:</label>\r\n    <input type=\"text\" class=\"form-control\" id=\"user_name\" name=\"user_name\" ngModel>\r\n  </div>\r\n  <br />\r\n\r\n  <button type=\"submit\" class=\"btn btn-primary\">Send</button>\r\n</form>\r\n\r\n<p *ngIf=\"!users?.length\"><em>Loading...</em></p>\r\n\r\n<table class='table table-striped' aria-labelledby=\"tableLabel\" *ngIf=\"users.length\">\r\n  <thead>\r\n    <tr>\r\n      <th>ID de usuario</th>\r\n      <th>Nombre de usuario</th>\r\n    </tr>\r\n  </thead>\r\n  <tbody>\r\n    <tr *ngFor=\"let user of users\">\r\n      <td>{{ user.user_id }}</td>\r\n      <td>{{ user.user_name }}</td>\r\n      <td (click)=\"deleteUser(user.user_id)\">X</td>\r\n    </tr>\r\n  </tbody>\r\n</table>\r\n\r\n<form (ngSubmit)=\"postItems(itemsForm)\" #itemsForm=\"ngForm\">\r\n  <h2>Add Elements to Items Table</h2>\r\n  <div class=\"form-group\">\r\n    <label for=\"user_name\">Item Name:</label>\r\n    <input type=\"text\" class=\"form-control\" id=\"item_name\" name=\"item_name\" ngModel>\r\n    <label for=\"item_description\">Item Description:</label>\r\n    <input type=\"text\" class=\"form-control\" id=\"item_description\" name=\"item_description\" ngModel>\r\n    <label for=\"item_user_name\">User:</label>\r\n    <select class=\"form-control\" [(ngModel)]=\"item_user_name\" id=\"item_user_name\" name=\"item_user_name\">\r\n      <option *ngFor=\"let user of users\" [value]=\"user.user_id\">{{ user.user_name }}</option>\r\n    </select>\r\n  </div>\r\n\r\n  <button type=\"submit\" class=\"btn btn-primary\">Send</button>\r\n</form>\r\n\r\n<table class='table table-striped' aria-labelledby=\"tableLabel\" *ngIf=\"items.length\">\r\n  <thead>\r\n    <tr>\r\n      <th>ID de item</th>\r\n      <th>Nombre del item</th>\r\n      <th>Descripcion del item</th>\r\n      <th>ID de usuario dueño</th>\r\n    </tr>\r\n  </thead>\r\n  <tbody>\r\n    <tr *ngFor=\"let item of items\">\r\n      <td>{{ item.item_id }}</td>\r\n      <td>{{ item.item_name }}</td>\r\n      <td>{{ item.item_description }}</td>\r\n      <td>{{ item.user_id }}</td>\r\n    </tr>\r\n  </tbody>\r\n</table>\r\n\r\n<table class='table table-striped' aria-labelledby=\"tableLabel\" *ngIf=\"auctions.length\">\r\n  <thead>\r\n    <tr>\r\n      <th>ID de Subasta</th>\r\n      <th>ID de item</th>\r\n      <th>Comieno de subasta</th>\r\n    </tr>\r\n  </thead>\r\n  <tbody>\r\n    <tr *ngFor=\"let auction of auctions\">\r\n      <td>{{ auction.auction_id }}</td>\r\n      <td>{{ auction.item_id }}</td>\r\n      <td>{{ auction.auction_start_date }}</td>\r\n    </tr>\r\n  </tbody>\r\n</table>\r\n\r\n \r\n","import { Component } from '@angular/core';\r\nimport { Users, Items, Auctions } from '../models/models';\r\nimport { ApiService } from '../services/api.service';\r\n@Component({\r\n  selector: 'app-fetch-users',\r\n  templateUrl: './fetch-users.component.html'\r\n})\r\nexport class FetchUsersComponent {\r\n  public users: Users[] = [];\r\n  public items: Items[] = [];\r\n  public auctions: Auctions[] = [];\r\n  public item_user_name: any;\r\n  constructor(private apiservice: ApiService) {\r\n    this.apiservice.getUsers().subscribe(result => {\r\n      this.users = result;\r\n    }, err => console.error(err));\r\n\r\n    this.apiservice.getItems().subscribe(result => {\r\n      this.items = result;\r\n    }, err => console.error(err));\r\n  }\r\n\r\n  postUser(userForm: any) {\r\n    this.apiservice.postUser(userForm.value.user_name).subscribe(res => {\r\n      alert(\"Usuario Creado\");\r\n    }, err => console.error(err));\r\n  }\r\n\r\n  deleteUser(user_id: number) {\r\n    this.apiservice.deleteUser(user_id).subscribe(res => {\r\n      alert(\"Usuario Eliminado\");\r\n    }, err => console.error(err));\r\n  }\r\n\r\n  postItems(itemsForm: any) {\r\n    this.apiservice.postItems(\r\n      itemsForm.value.item_name,\r\n      itemsForm.value.item_description,\r\n      this.item_user_name,\r\n    ).subscribe(res => {\r\n        console.log(res);\r\n      }, err => console.error(err));\r\n  }\r\n\r\n  postAuctions(auctionsForm: any) {\r\n\r\n  }\r\n\r\n}\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}